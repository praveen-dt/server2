(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-82499138"],{"1b69":function(e,t,a){"use strict";a("db8a")},db8a:function(e,t,a){},f26b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"content"},[a("div",{staticClass:"tag-group"}),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"filters",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{prop:"userId"}},[a("el-select",{attrs:{placeholder:e.$t("search_common.tip1")},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.optionList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-input",{staticClass:"ipt1",attrs:{placeholder:e.$t("search_common.tip2"),clearable:""},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}}),a("el-form-item",{staticStyle:{"padding-left":"15px"},attrs:{label:"Sort Fields："}},[a("el-select",{attrs:{placeholder:e.$t("search_common.tip1")},model:{value:e.SortFieldValue,callback:function(t){e.SortFieldValue=t},expression:"SortFieldValue"}},e._l(e.SortFields,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"Sort by："}},[a("el-select",{attrs:{placeholder:e.$t("search_common.tip1")},model:{value:e.OrderByValue,callback:function(t){e.OrderByValue=t},expression:"OrderByValue"}},e._l(e.OrderBy,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},domProps:{textContent:e._s(e.$t("form.searchBtn"))},on:{click:e.search_btn}}),a("el-button",{attrs:{icon:"el-icon-refresh"},domProps:{textContent:e._s(e.$t("table.resetFilter"))},on:{click:function(t){return e.resetForm("filters")}}}),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"STORE"==e.user.role,expression:"user.role == 'STORE'"}],attrs:{icon:"el-icon-plus",type:"primary"},domProps:{textContent:e._s(e.$t("form.createBtn"))},on:{click:e.createmodel}})],1)],1)],1),a("el-col",{staticStyle:{margin:"10px 0",color:"red"},attrs:{span:24}},[e._v("Note: Recharge and redeem require the player not in the game (can be in the lobby)")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.List,"highlight-current-row":"","header-cell-style":{background:"#f5f7fa",borderTop:"1px solid #ebeef5"}},on:{"selection-change":e.selsChange}},[1!==e.user.agent_id?a("el-table-column",{attrs:{label:e.$t("table_common.operation"),width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.agent_id==e.user.agent_id||1==e.user.agent_id?a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.$t("common.editor"))),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:1==e.user.redeem_permission,expression:"user.redeem_permission == 1"}],nativeOn:{click:function(a){return e.onRedeem(t.row)}}},[e._v(e._s(e.$t("common.Redeem")))]),a("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:1==e.user.recharge_permission,expression:"user.recharge_permission == 1"}],nativeOn:{click:function(a){return e.onRecharge(t.row)}}},[e._v(e._s(e.$t("common.Recharge")))]),a("el-dropdown-item",{nativeOn:{click:function(a){return e.onResetPassword(t.row)}}},[e._v(e._s(e.$t("common.ResetPassword")))])],1)],1):e._e()]}}],null,!1,3004104158)}):e._e(),1!==e.user.agent_id?a("el-table-column",{attrs:{prop:"real_name",label:e.$t("table_common.status"),width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.agent_id==e.user.agent_id||1==e.user.agent_id?a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:function(a){return e.handleSwitchChange(t,t.$index)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}}):a("el-switch",{attrs:{"active-value":"1","inactive-value":"0",disabled:""},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}],null,!1,42312269)}):e._e(),a("el-table-column",{attrs:{label:e.$t("table_common.gameID"),"show-overflow-tooltip":!0,width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary",underline:!1},nativeOn:{click:function(a){return e.detailBtn(t.row.user_id)}}},[e._v(e._s(t.row.user_id))])]}}])}),a("el-table-column",{attrs:{prop:"login_name",label:e.$t("table_common.account"),align:"center"}}),a("el-table-column",{attrs:{prop:"balance",label:e.$t("table_common.balance"),align:"center",width:"100px","show-overflow-tooltip":!0}}),a("el-table-column",{directives:[{name:"show",rawName:"v-show",value:e.RechargeActivityStatus,expression:"RechargeActivityStatus"}],attrs:{prop:"bonus",label:e.$t("table_common.bonus"),align:"center",width:"100px","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"register_date",label:e.$t("table_common.registerDate"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"register_ip",label:e.$t("table_common.registerIP"),align:"center",width:"180px","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"login_times",label:e.$t("table_common.logiTimes"),align:"center",width:"100px"}}),a("el-table-column",{attrs:{prop:"last_login_time",label:e.$t("table_common.lastLoginTime"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"last_login_ip",label:e.$t("table_common.lastLogonAddress"),align:"center",width:"180px","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"agent_login_name",label:e.$t("table_common.manager"),align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.agent_login_name)+"（"+e._s(t.row.agent_id)+"） ")]}}])})],1),a("div",{staticClass:"el-col el-col-24 toolbar toolbar-pages cust-main-page"},[a("div",{staticClass:"el-pagination is-background"},[a("button",{staticClass:"btn-prev",attrs:{type:"button",disabled:1==e.currentPage},on:{click:function(t){return e.handleCurrentChange("prev")}}},[e._v(" prev ")]),a("button",{staticClass:"btn-next",attrs:{type:"button",disabled:e.next_status},on:{click:function(t){return e.handleCurrentChange("next")}}},[e._v(" next ")]),a("span",{staticClass:"el-pagination__sizes"},[a("el-select",{staticClass:"m-2",attrs:{placeholder:"Select",size:"small"},on:{change:e.handleSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}},e._l([20,30,50,100],(function(e){return a("el-option",{key:e,attrs:{label:e+"/page",value:e}})})),1)],1),a("span",{staticClass:"el-pagination__jump"},[e._v("Go to "),a("div",{staticClass:"\n              el-input el-input--mini\n              el-pagination__editor\n              is-in-pagination\n            "},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.gopage,expression:"gopage"}],staticClass:"el-input__inner",attrs:{min:"1",type:"number",autocomplete:"off"},domProps:{value:e.gopage},on:{change:e.handleGoPage,input:function(t){t.target.composing||(e.gopage=t.target.value)}}})])])])]),a("el-dialog",{attrs:{title:e.modeltitle,visible:e.addFormVisible,"before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"150px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:e.$t("common.Account"),prop:"account"}},[a("el-input",{model:{value:e.addForm.account,callback:function(t){e.$set(e.addForm,"account",t)},expression:"addForm.account"}}),a("span",{staticClass:"red"},[e._v(e._s(e.$t("common.tip9")))])],1),a("el-form-item",{attrs:{label:e.$t("common.Nickname")}},[a("el-input",{model:{value:e.addForm.nickname,callback:function(t){e.$set(e.addForm,"nickname",t)},expression:"addForm.nickname"}}),a("span",{},[e._v(e._s(e.$t("common.tip10")))])],1),a("el-form-item",{attrs:{label:e.$t("common.LoginPassword"),prop:"login_pwd"}},[a("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.addForm.login_pwd,callback:function(t){e.$set(e.addForm,"login_pwd",t)},expression:"addForm.login_pwd"}}),a("span",{staticClass:"red"},[e._v(e._s(e.$t("common.tip11")))])],1),a("el-form-item",{attrs:{label:e.$t("common.ConfirmPassword"),prop:"check_pwd"}},[a("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.addForm.check_pwd,callback:function(t){e.$set(e.addForm,"check_pwd",t)},expression:"addForm.check_pwd"}}),a("span",{staticClass:"red"},[e._v(e._s(e.$t("common.tip12")))])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.cancelBtn("addForm")}}},[e._v(e._s(e.$t("common.Cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.createSubmit}},[e._v(e._s(e.$t("common.Save")))])],1)],1),a("el-dialog",{attrs:{title:e.$t("common.tip7"),visible:e.redeemFormVisible,"before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.redeemFormVisible=t}}},[a("el-form",{ref:"redeemForm",attrs:{model:e.redeemForm,"label-width":"150px"}},[a("el-form-item",{attrs:{label:e.$t("common.redeemType")}},[a("el-select",{staticStyle:{display:"block"},attrs:{placeholder:e.$t("search_common.tip1")},model:{value:e.redeemForm.type,callback:function(t){e.$set(e.redeemForm,"type",t)},expression:"redeemForm.type"}},e._l(e.redeemTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("table_common.account")}},[a("el-input",{attrs:{disabled:""},model:{value:e.redeemForm.account,callback:function(t){e.$set(e.redeemForm,"account",t)},expression:"redeemForm.account"}})],1),a("el-form-item",{attrs:{label:e.$t("table_common.gameID")}},[a("el-input",{attrs:{disabled:""},model:{value:e.redeemForm.user_id,callback:function(t){e.$set(e.redeemForm,"user_id",t)},expression:"redeemForm.user_id"}})],1),a("el-form-item",{attrs:{label:e.$t("table_common.balance")}},[a("el-input",{attrs:{disabled:""},model:{value:e.redeemForm.balance,callback:function(t){e.$set(e.redeemForm,"balance",t)},expression:"redeemForm.balance"}})],1),a("el-form-item",{attrs:{label:e.$t("table_common.RedeemAmount")}},[a("el-input",{attrs:{type:"number"},model:{value:e.redeemForm.amount,callback:function(t){e.$set(e.redeemForm,"amount",t)},expression:"redeemForm.amount"}})],1),a("el-form-item",{attrs:{label:e.$t("table_common.remark")}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.redeemForm.remark,callback:function(t){e.$set(e.redeemForm,"remark",t)},expression:"redeemForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.cancelBtn("redeemForm")}}},[e._v(e._s(e.$t("common.Cancel")))]),a("el-button",{attrs:{type:"primary",disabled:e.is_disabled},on:{click:e.redeemFormSubmit}},[e._v(e._s(e.$t("common.Confirm")))])],1)],1),a("el-dialog",{attrs:{title:e.$t("common.ResetPassword"),visible:e.resetPasswordFormVisible,"before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.resetPasswordFormVisible=t}}},[a("el-form",{ref:"resetPasswordForm",attrs:{model:e.resetPasswordForm,"label-width":"150px"}},[a("el-form-item",{attrs:{label:e.$t("common.NewPassword")}},[a("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.resetPasswordForm.login_pwd,callback:function(t){e.$set(e.resetPasswordForm,"login_pwd",t)},expression:"resetPasswordForm.login_pwd"}})],1),a("el-form-item",{attrs:{label:e.$t("common.ConfirmPassword")}},[a("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.resetPasswordForm.check_pwd,callback:function(t){e.$set(e.resetPasswordForm,"check_pwd",t)},expression:"resetPasswordForm.check_pwd"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.cancelBtn("resetPasswordForm")}}},[e._v(e._s(e.$t("common.Cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.resetPasswordSubmit}},[e._v(e._s(e.$t("common.Confirm")))])],1)],1),a("el-dialog",{attrs:{title:e.$t("common.tip8"),visible:e.rechargeFormVisible,"before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.rechargeFormVisible=t}}},[a("el-form",{ref:"rechargeForm",attrs:{model:e.rechargeForm,"label-width":"150px"}},[a("el-form-item",{attrs:{label:e.$t("table_common.account")}},[a("el-input",{attrs:{disabled:""},model:{value:e.rechargeForm.account,callback:function(t){e.$set(e.rechargeForm,"account",t)},expression:"rechargeForm.account"}})],1),a("el-form-item",{attrs:{label:e.$t("table_common.gameID")}},[a("el-input",{attrs:{disabled:""},model:{value:e.rechargeForm.user_id,callback:function(t){e.$set(e.rechargeForm,"user_id",t)},expression:"rechargeForm.user_id"}})],1),a("el-form-item",{attrs:{label:e.$t("table_common.balance")}},[a("el-input",{attrs:{disabled:""},model:{value:e.rechargeForm.balance,callback:function(t){e.$set(e.rechargeForm,"balance",t)},expression:"rechargeForm.balance"}})],1),a("el-form-item",{attrs:{label:e.$t("common.yourBalance")}},[a("el-input",{attrs:{disabled:""},model:{value:e.balance,callback:function(t){e.balance=t},expression:"balance"}})],1),a("el-form-item",{attrs:{label:e.$t("table_common.RechargeAmount")}},[a("el-input",{attrs:{type:"number"},model:{value:e.rechargeForm.amount,callback:function(t){e.$set(e.rechargeForm,"amount",t)},expression:"rechargeForm.amount"}})],1),a("el-form-item",{attrs:{label:e.$t("table_common.remark")}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.rechargeForm.remark,callback:function(t){e.$set(e.rechargeForm,"remark",t)},expression:"rechargeForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.cancelBtn("rechargeForm")}}},[e._v(e._s(e.$t("common.Cancel")))]),a("el-button",{attrs:{type:"primary",disabled:e.is_disabled},on:{click:e.rechargeFormSubmit}},[e._v(e._s(e.$t("common.Confirm")))])],1)],1),a("el-dialog",{attrs:{visible:e.invoiceFormVisible,"before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.invoiceFormVisible=t}}},[a("p",[e._v(" Successfully! You can "),a("el-link",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.saveinvoice.apply(null,arguments)}}},[e._v("Print")]),e._v(" the ticket. ")],1),a("div",{ref:"invoiceModel",attrs:{id:"invoiceModel"}},[a("h1",[e._v("Ticket")]),a("p",[a("label",[e._v("Game ID:")]),e._v(e._s(e.invoice.user_id))]),a("p",[a("label",[e._v("ACCOUNT:")]),e._v(e._s(e.invoice.login_name))]),a("p",[a("label",[e._v("DESPOSIT:")]),e._v(e._s(e.invoice.desposit))]),a("p",[a("label",[e._v("REMARK:")]),e._v(e._s(e.invoice.remark))]),a("p",{staticClass:"total_balance"},[a("label",[e._v("TOTAL BALANCE:")]),e._v(e._s(e.invoice.Balance)+" ")]),a("p",[a("label",[e._v("DATE:")]),e._v(e._s(e.invoice.date))])])]),a("UserInfo",{attrs:{user_detail:e.user_detail}}),a("el-dialog",{attrs:{visible:e.freezeDialogVisible,title:"Captcha validate","before-close":e.cancelOperation},on:{"update:visible":function(t){e.freezeDialogVisible=t}}},[a("el-form",{staticClass:"captcha-form"},[a("el-form-item",[a("div",{staticClass:"captcha-container"},[a("el-image",{staticStyle:{cursor:"pointer"},attrs:{src:e.captchaUrl},on:{click:e.refreshCaptcha}}),a("el-input",{staticClass:"captcha-input",attrs:{placeholder:"Enter Captcha"},model:{value:e.freezeValidateCode,callback:function(t){e.freezeValidateCode=t},expression:"freezeValidateCode"}})],1)])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelOperation}},[e._v(e._s(e.$t("common.Cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitVerificationCode}},[e._v(e._s(e.$t("common.Confirm")))])],1)],1)],1)},s=[],o=(a("ac1f"),a("841c"),a("d3b7"),a("25f0"),a("a9e3"),a("1276"),a("466d"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("3ca3"),a("ddb0"),a("2b3d"),a("c0e9")),i=a.n(o),l=a("5308"),n=a("ed08"),c=a("d33d"),d={components:{UserInfo:c["a"]},data:function(){return{filters:{search:"",type:1},user_detail:{uid:"",UserDataVisible:!1},optionList:[{value:1,label:"Search by Account"},{value:2,label:"Search by ID"},{value:3,label:"Search by Manager"}],OrderBy:[{value:"asc",label:"ascend"},{value:"desc",label:"descend"}],OrderByValue:"desc",SortFields:[{value:"register_time",label:"Register Time"},{value:"login_name",label:"Login Name"}],SortFieldValue:"register_time",redeemTypeList:[{value:2,label:"Balance"}],user:JSON.parse(l["a"].get("user")),List:[],listLoading:!1,modeltitle:"",addFormRules:{account:[{required:!0,message:"Please enter your login name",trigger:"blur"},{validator:n["a"],whitespace:!0,trigger:"blur"},{min:6,max:16,message:"The length is between 6 and 16 characters",trigger:"blur"}],login_pwd:[{required:!0,trigger:"blur",message:"Please enter password！"}],check_pwd:[{required:!0,trigger:"blur",message:"Please confirm your password！"}]},sels:[],total:0,currentPage:1,pageSize:20,addForm:{},addFormVisible:!1,editLoading:!1,redeemFormVisible:!1,redeemForm:{},resetPasswordFormVisible:!1,resetPasswordForm:{},rechargeFormVisible:!1,rechargeForm:{},invoiceFormVisible:!1,invoice:{},balance:0,noteitems:[{type:"",label:"Total Users Balance",num:0}],gopage:1,next_status:!1,is_disabled:!1,RechargeActivityStatus:!0,freezeDialogVisible:!1,freezeValidateCode:"",currentScope:"",checkCode:"",captchaUrl:"",initialSwitchState:[]}},mounted:function(){this.getList()},methods:{getbalance:function(){var e=this,t={};this.$api.balance(t).then((function(t){var a=t.data,r=a.code,s=a.data,o=a.msg;200===r?e.balance=s.t:e.$message.error(o)}))},search_btn:function(){this.currentPage=1,this.pageSize=20,this.gopage=1,this.getList()},getList:function(){var e=this,t={page:this.currentPage,limit:this.pageSize,type:this.filters.type,search:this.filters.search,order_by:this.OrderByValue,sort_field:this.SortFieldValue};this.$api.userList(t).then((function(t){var a=t.data,r=a.code,s=a.data,o=a.msg,i=a.count;200===r?(e.total=i,e.noteitems[0].num=s.data_sum.total_balance,e.List=s.list,e.next_status=s.list.length<e.pageSize):e.$message.error(o)}))},detailBtn:function(e){this.user_detail.uid=e,this.user_detail.UserDataVisible=!0},changestatus:function(e){var t=this,a={uid:e.user_id,is_show:e.status};this.$api.setStatus(a).then((function(e){var a=e.data,r=a.code,s=a.msg;200===r?(t.$message.success(s),t.getList()):t.$message.error(s)}))},refreshCaptcha:function(){this.checkCode=Math.random().toString(36).substr(2,8),this.captchaUrl="/api/agent/captcha?type=user_status&t=".concat(this.checkCode)},cancelOperation:function(){var e=this.initialSwitchState,t=e.status,a=e.index;null!==a&&(this.List[a].status="0"===t?"1":"0"),this.freezeDialogVisible=!1,this.currentScope="",this.freezeValidateCode=""},handleSwitchChange:function(e,t){0==e.row.status?(this.initialSwitchState={status:e.row.status,index:t},this.refreshCaptcha(),this.freezeDialogVisible=!0,this.currentScope=e):this.changestatus(e.row)},submitVerificationCode:function(){var e=this,t={uid:this.currentScope.row.user_id,is_show:this.currentScope.row.status,captcha:this.freezeValidateCode,checkcode:this.checkCode};this.$api.setStatus(t).then((function(t){var a=t.data,r=a.code,s=a.msg;200===r?(e.$message.success(s),e.getList(),e.freezeDialogVisible=!1,e.currentScope="",e.freezeValidateCode=""):(e.$message.error(s),e.refreshCaptcha())}))},handleSizeChange:function(){this.getList()},handleCurrentChange:function(e){this.currentPage="next"==e?this.currentPage+1:this.currentPage-1,this.gopage=this.currentPage,this.getList()},handleGoPage:function(){this.currentPage=Number(this.gopage),this.getList()},cancelBtn:function(e){this.addFormVisible=!1,this.redeemFormVisible=!1,this.resetPasswordFormVisible=!1,this.rechargeFormVisible=!1,this.$refs[e].resetFields()},resetForm:function(e){"filters"==e?(this.currentPage=1,this.pageSize=20,this.filters.type=1,this.filters.search="",this.gopage=1,this.OrderByValue="desc",this.SortFieldValue="register_time",this.getList()):"user_detail"==e?this.getuserdataList():this.getList()},selsChange:function(e){this.sels=e},handleClose:function(){this.addFormVisible=!1,this.redeemFormVisible=!1,this.resetPasswordFormVisible=!1,this.rechargeFormVisible=!1,this.invoiceFormVisible=!1,this.UserDataVisible=!1},createmodel:function(){this.addFormVisible=!0,this.modeltitle="Essential information",this.addForm={account:"",nickname:"",login_pwd:"",check_pwd:""}},createSubmit:function(){var e=this;this.addForm.login_pwd===this.addForm.check_pwd?this.$refs.addForm.validate((function(t){t&&e.$api.addUser(e.addForm).then((function(t){var a=t.data,r=a.code,s=a.msg;200===r?(e.$refs.addForm.resetFields(),e.$message.success(s),e.addFormVisible=!1,e.resetForm("addForm")):e.$message.error(s)}))})):this.$message({message:"The two passwords are inconsistent！",type:"warning"})},onRedeem:function(e){this.redeemFormVisible=!0,this.redeemForm={user_id:e.user_id,type:2,account:e.login_name,balance:e.balance,amount:"",remark:""}},redeemFormSubmit:function(){var e=this;this.redeemForm.amount<=0?this.$message({message:"The withdrawal amount should be greater than 0！",type:"warning"}):this.redeemForm.amount>this.redeemForm.balance?this.$message({message:"The redeem amount can not be greater than the balance on the body！",type:"warning"}):(this.is_disabled=!0,this.$api.userRechargeRedeem(this.redeemForm).then((function(t){var a=t.data,r=a.code,s=a.data,o=a.msg;if(200===r)if(29==s.code){var i='<div class="31_warning"><span>User Id:'+s.user_id+"</span><br/><span>Actual Balance:"+s.actual_balance+'</span><div style="background-color: rgba(242, 222, 222, 1);padding: 20px;">Error this player got credits from bonus!<br/>Please cash out first or play all credits.</div></div>';e.$confirm(i,"Warning",{dangerouslyUseHTMLString:!0,type:"warning",center:!0,confirmButtonText:"Out all",cancelButtonText:"Cancel"}).then((function(){e.$api.userWagerBonus({status:1,user_id:s.user_id}).then((function(t){var a=t.data,r=a.code,s=a.data;a.msg;if(200===r){var o="<div>Player :"+s.uid+".Bonus canceled<br/>successfully."+s.bonus+"</div>";e.$alert(o,"Success",{confirmButtonText:"OK",dangerouslyUseHTMLString:!0,closeOnClickModal:!1,callback:function(t){e.resetForm("redeemForm")}})}}))})).catch((function(){})),e.$refs.redeemForm.resetFields(),e.redeemFormVisible=!1,e.resetForm("redeemForm"),setTimeout((function(){e.is_disabled=!1}),1500)}else e.$refs.redeemForm.resetFields(),e.$message.success(o),e.redeemFormVisible=!1,e.resetForm("redeemForm"),setTimeout((function(){e.is_disabled=!1}),1500);else e.$message.error(o),setTimeout((function(){e.is_disabled=!1}),1500);setTimeout((function(){e.is_disabled=!1}),1500)})))},onResetPassword:function(e){this.resetPasswordFormVisible=!0,this.resetPasswordForm={uid:e.user_id,login_pwd:"",check_pwd:""}},resetPasswordSubmit:function(){var e=this;this.resetPasswordForm.login_pwd&&this.resetPasswordForm.check_pwd?this.resetPasswordForm.login_pwd===this.resetPasswordForm.check_pwd?this.$api.resetUserPwd(this.resetPasswordForm).then((function(t){var a=t.data,r=a.code,s=a.msg;200===r?(e.$refs.resetPasswordForm.resetFields(),e.$message.success(s),e.resetPasswordFormVisible=!1,e.resetForm("resetPasswordForm")):e.$message.error(s)})):this.$message({message:"The two passwords are inconsistent！",type:"warning"}):this.$message({message:"Please enter your password！",type:"warning"})},onRecharge:function(e){this.getbalance(),this.rechargeFormVisible=!0,this.rechargeForm={},this.rechargeFormVisible=!0,this.rechargeForm={user_id:e.user_id,type:1,account:e.login_name,balance:e.balance,amount:"",remark:"",bonusStatus:0}},rechargeFormSubmit:function(){var e=this;this.rechargeForm.amount<=0?this.$message({message:"The recharge amount should be greater than 0！",type:"warning"}):(this.is_disabled=!0,this.$api.userRechargeRedeem(this.rechargeForm).then((function(t){var a=t.data,r=a.code,s=a.data,o=a.msg;if(200===r){if(e.$refs.rechargeForm.resetFields(),e.rechargeFormVisible=!1,e.resetForm("rechargeForm"),31==s.code)e.$alert("Player has credits,first play all credits！","Error",{confirmButtonText:"OK"});else if(30==s.code){var i='<div class="31_warning"><span>User Id:'+e.rechargeForm.user_id+"</span><br/><span>Total Balance:"+s.Balance+'</span><div style="background-color: rgba(242, 222, 222, 1);padding: 20px;">this player got credits from bonus!<br/>Please cash out first or play all credits.</div></div>';e.$alert(i,"Warning",{dangerouslyUseHTMLString:!0,type:"warning",center:!0})}else e.$message.success(o),e.invoice=s,e.invoice.desposit=e.rechargeForm.amount,e.invoiceFormVisible=!0;setTimeout((function(){e.is_disabled=!1}),1500)}else e.$message.error(o),setTimeout((function(){e.is_disabled=!1}),1500)})))},saveinvoice:function(){this.saveImage("invoiceModel",this.invoice.date)},dataURLToBlob:function(e){var t=e.split(","),a=t[0].match(/:(.*?);/)[1],r=atob(t[1]),s=r.length,o=new Uint8Array(s);while(s--)o[s]=r.charCodeAt(s);return new Blob([o],{type:a})},saveImage:function(e,t){var a=this.$refs[e],r=this,s=document.createElement("a");i()(a).then((function(e){var a=document.body.appendChild(e);a.style.display="none",s.style.display="none",document.body.removeChild(a);var o=r.dataURLToBlob(a.toDataURL("image/png"));s.setAttribute("href",URL.createObjectURL(o)),s.setAttribute("download",t+".png"),document.body.appendChild(s),s.click(),URL.revokeObjectURL(o),document.body.removeChild(s)}))},clickFAQ:function(){window.open("/FAQ","_blank")}}},m=d,u=(a("1b69"),a("2877")),p=Object(u["a"])(m,r,s,!1,null,"47087f51",null);t["default"]=p.exports}}]);