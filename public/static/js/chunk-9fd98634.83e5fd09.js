(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9fd98634"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},4e3:function(e,t,a){},"822a":function(e,t,a){"use strict";a("4000")},"841c":function(e,t,a){"use strict";var o=a("d784"),r=a("825a"),s=a("1d80"),i=a("129f"),n=a("14c3");o("search",(function(e,t,a){return[function(t){var a=s(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,a):new RegExp(t)[e](String(a))},function(e){var o=a(t,this,e);if(o.done)return o.value;var s=r(this),l=String(e),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var m=n(s,l);return i(s.lastIndex,c)||(s.lastIndex=c),null===m?-1:m.index}]}))},"894f":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"content"},[a("el-button-group",[a("el-button",{attrs:{type:"primary",disabled:""}},[e._v(e._s(e.$t("common.userMGT")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.go_page}},[e._v(e._s(e.$t("common.agentMGT")))])],1),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"filters",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{prop:"userId"}},[a("el-select",{attrs:{placeholder:e.$t("search_common.tip1")},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.optionList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-input",{staticClass:"ipt1",attrs:{placeholder:e.$t("search_common.tip2"),clearable:""},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},domProps:{textContent:e._s(e.$t("form.searchBtn"))},on:{click:e.search_btn}}),a("el-button",{attrs:{icon:"el-icon-refresh"},domProps:{textContent:e._s(e.$t("table.resetFilter"))},on:{click:function(t){return e.resetForm("filters")}}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"STORE"!==e.user.role,expression:"user.role !== 'STORE'"}]},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},domProps:{textContent:e._s(e.$t("form.createBtn"))},on:{click:e.createmodel}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.user.role_level,expression:"user.role_level == 1"}]},e._l(e.noteitems,(function(t){return a("el-tag",{key:t.label,attrs:{type:t.type,effect:"plain"}},[e._v(" "+e._s(t.label)+"："+e._s(t.num)+" ")])})),1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.agentList,"highlight-current-row":"","header-cell-style":{background:"#f5f7fa",borderTop:"1px solid #ebeef5"}},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{label:e.$t("table_common.operation"),align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.user.agent_id!==t.row.agent_id&&e.user.agent_id==t.row.ragent_id||e.user.agent_id!==t.row.agent_id&&1==e.user.role_level?a("div",[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.$t("common.editor"))),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:1==e.user.redeem_permission,expression:"user.redeem_permission == 1"}],nativeOn:{click:function(a){return e.onRedeem(t.row)}}},[e._v(" "+e._s(e.$t("common.Redeem")))]),a("el-dropdown-item",{nativeOn:{click:function(a){return e.onResetPassword(t.row)}}},[e._v(e._s(e.$t("common.ResetPassword"))+" ")]),a("el-dropdown-item",{nativeOn:{click:function(a){return e.onPermission(t.row)}}},[e._v(e._s(e.$t("common.UpdateInfo")))]),a("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:1==e.user.recharge_permission,expression:"user.recharge_permission == 1"}],nativeOn:{click:function(a){return e.onRecharge(t.row)}}},[e._v(" "+e._s(e.$t("common.Recharge")))])],1)],1)],1):e._e()]}}])}),a("el-table-column",{attrs:{label:e.$t("common.AgentName"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.agent_name)+" ")]}}])}),a("el-table-column",{attrs:{label:e.$t("common.LoginAccount"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.login_name)+" ")]}}])}),a("el-table-column",{attrs:{prop:"role_name_en",label:e.$t("table_common.actor"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"login_times",label:e.$t("table_common.logiTimes"),align:"center",width:"100px"}}),a("el-table-column",{attrs:{prop:"last_logon_ip",label:e.$t("table_common.logonAddress"),align:"center"}}),a("el-table-column",{attrs:{prop:"last_logon_time",label:e.$t("table_common.logonTime"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"last_login_ip",label:e.$t("table_common.lastLogonAddress"),align:"center"}}),a("el-table-column",{attrs:{prop:"last_login_time",label:e.$t("table_common.lastLoginTime"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"coin_balance",label:e.$t("table_common.balance"),align:"center"}}),a("el-table-column",{attrs:{prop:"ragent_login_name",label:e.$t("table_common.manager"),align:"center"}}),a("el-table-column",{attrs:{prop:"",label:e.$t("table_common.status"),align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.user.agent_id!==t.row.agent_id&&e.user.agent_id==t.row.ragent_id||e.user.agent_id!==t.row.agent_id&&1==e.user.role_level?a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:function(a){return e.handleSwitchChange(t,t.$index,1)}},model:{value:t.row.is_opend,callback:function(a){e.$set(t.row,"is_opend",a)},expression:"scope.row.is_opend"}}):a("el-switch",{attrs:{"active-value":"1","inactive-value":"0",disabled:""},model:{value:t.row.is_opend,callback:function(a){e.$set(t.row,"is_opend",a)},expression:"scope.row.is_opend"}})]}}])})],1),a("div",{staticClass:"el-col el-col-24 toolbar toolbar-pages cust-main-page"},[a("div",{staticClass:"el-pagination is-background"},[a("button",{staticClass:"btn-prev",attrs:{type:"button",disabled:1==e.currentPage},on:{click:function(t){return e.handleCurrentChange("prev")}}},[e._v("prev")]),a("button",{staticClass:"btn-next",attrs:{type:"button",disabled:e.next_status},on:{click:function(t){return e.handleCurrentChange("next")}}},[e._v("next")]),a("span",{staticClass:"el-pagination__sizes"},[a("el-select",{staticClass:"m-2",attrs:{placeholder:"Select",size:"small"},on:{change:e.handleSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}},e._l([20,30,50,100],(function(e){return a("el-option",{key:e,attrs:{label:e+"/page",value:e}})})),1)],1),a("span",{staticClass:"el-pagination__jump"},[e._v("Go to "),a("div",{staticClass:"el-input el-input--mini el-pagination__editor is-in-pagination"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.gopage,expression:"gopage"}],staticClass:"el-input__inner",attrs:{min:"1",type:"number",autocomplete:"off"},domProps:{value:e.gopage},on:{change:e.handleGoPage,input:function(t){t.target.composing||(e.gopage=t.target.value)}}})])])])]),a("el-dialog",{attrs:{title:e.modeltitle,visible:e.addFormVisible,"before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"150px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:e.$t("common.AgentName"),prop:"agent_name"}},[a("el-input",{model:{value:e.addForm.agent_name,callback:function(t){e.$set(e.addForm,"agent_name",t)},expression:"addForm.agent_name"}})],1),a("el-form-item",{attrs:{label:e.$t("common.LoginAccount"),prop:"login_name"}},[a("el-input",{model:{value:e.addForm.login_name,callback:function(t){e.$set(e.addForm,"login_name",t)},expression:"addForm.login_name"}}),a("span",{staticClass:"red"},[e._v(e._s(e.$t("common.tip5")))])],1),a("el-form-item",{attrs:{label:e.$t("common.LoginPassword"),prop:"login_pwd"}},[a("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.addForm.login_pwd,callback:function(t){e.$set(e.addForm,"login_pwd",t)},expression:"addForm.login_pwd"}}),a("span",{staticClass:"red"},[e._v(e._s(e.$t("common.tip6")))])],1),a("el-form-item",{attrs:{label:e.$t("common.ConfirmPassword"),prop:"check_pwd"}},[a("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.addForm.check_pwd,callback:function(t){e.$set(e.addForm,"check_pwd",t)},expression:"addForm.check_pwd"}})],1),a("el-form-item",{attrs:{label:e.$t("common.RechargeBalance")}},[a("el-input",{model:{value:e.addForm.rechargeamount,callback:function(t){e.$set(e.addForm,"rechargeamount",t)},expression:"addForm.rechargeamount"}})],1),a("el-form-item",{attrs:{label:e.$t("common.ContactNumber"),prop:"phone"}},[a("el-input",{model:{value:e.addForm.phone,callback:function(t){e.$set(e.addForm,"phone",t)},expression:"addForm.phone"}}),a("span",{staticClass:"red"},[e._v(e._s(e.$t("common.tip4")))])],1),a("el-form-item",{attrs:{label:e.$t("common.RechargePermission")}},[[a("el-radio",{attrs:{label:"0"},model:{value:e.addForm.recharge,callback:function(t){e.$set(e.addForm,"recharge",t)},expression:"addForm.recharge"}},[e._v(e._s(e.$t("common.Unauthorized")))]),a("el-radio",{attrs:{label:"1"},model:{value:e.addForm.recharge,callback:function(t){e.$set(e.addForm,"recharge",t)},expression:"addForm.recharge"}},[e._v(e._s(e.$t("common.Authorized")))])]],2),a("el-form-item",{attrs:{label:e.$t("common.RedeemPermission")}},[[a("el-radio",{attrs:{label:"0"},model:{value:e.addForm.redeem,callback:function(t){e.$set(e.addForm,"redeem",t)},expression:"addForm.redeem"}},[e._v(e._s(e.$t("common.Unauthorized")))]),a("el-radio",{attrs:{label:"1"},model:{value:e.addForm.redeem,callback:function(t){e.$set(e.addForm,"redeem",t)},expression:"addForm.redeem"}},[e._v(e._s(e.$t("common.Authorized")))])]],2),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.user.agent_id,expression:"user.agent_id == 1"}],attrs:{label:e.$t("common.TestPermission")}},[[a("el-radio",{attrs:{label:"0"},model:{value:e.addForm.is_test,callback:function(t){e.$set(e.addForm,"is_test",t)},expression:"addForm.is_test"}},[e._v(e._s(e.$t("common.Unauthorized")))]),a("el-radio",{attrs:{label:"1"},model:{value:e.addForm.is_test,callback:function(t){e.$set(e.addForm,"is_test",t)},expression:"addForm.is_test"}},[e._v(e._s(e.$t("common.Authorized")))])]],2),a("el-form-item",{attrs:{label:e.$t("common.ActivateStatus")}},[[a("el-radio",{attrs:{label:"1"},model:{value:e.addForm.is_opend,callback:function(t){e.$set(e.addForm,"is_opend",t)},expression:"addForm.is_opend"}},[e._v(e._s(e.$t("common.Active")))]),a("el-radio",{attrs:{label:"0"},model:{value:e.addForm.is_opend,callback:function(t){e.$set(e.addForm,"is_opend",t)},expression:"addForm.is_opend"}},[e._v(e._s(e.$t("common.Disabled")))])]],2)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.cancelBtn("addForm")}}},[e._v(e._s(e.$t("common.Cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.createSubmit}},[e._v(e._s(e.$t("common.Save")))])],1)],1),a("el-dialog",{attrs:{title:e.$t("common.tip7"),visible:e.redeemFormVisible,"before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.redeemFormVisible=t}}},[a("el-form",{ref:"redeemForm",attrs:{model:e.redeemForm,"label-width":"150px"}},[a("el-form-item",{attrs:{label:e.$t("common.Account")}},[a("el-input",{attrs:{disabled:""},model:{value:e.redeemForm.account,callback:function(t){e.$set(e.redeemForm,"account",t)},expression:"redeemForm.account"}})],1),a("el-form-item",{attrs:{label:e.$t("common.CustomerBalance")}},[a("el-input",{attrs:{disabled:""},model:{value:e.redeemForm.customerBalance,callback:function(t){e.$set(e.redeemForm,"customerBalance",t)},expression:"redeemForm.customerBalance"}})],1),a("el-form-item",{attrs:{label:e.$t("common.AvailableBalance")}},[a("el-input",{attrs:{disabled:""},model:{value:e.redeemForm.availableBalance,callback:function(t){e.$set(e.redeemForm,"availableBalance",t)},expression:"redeemForm.availableBalance"}})],1),a("el-form-item",{attrs:{label:e.$t("common.RedeemBalance")}},[a("el-input",{attrs:{type:"number"},model:{value:e.redeemForm.amount,callback:function(t){e.$set(e.redeemForm,"amount",t)},expression:"redeemForm.amount"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.cancelBtn("redeemForm")}}},[e._v(e._s(e.$t("common.Cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.redeemFormSubmit}},[e._v(e._s(e.$t("common.Confirm")))])],1)],1),a("el-dialog",{attrs:{title:e.$t("common.ResetPassword"),visible:e.resetPasswordFormVisible,"before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.resetPasswordFormVisible=t}}},[a("el-form",{ref:"resetPasswordForm",attrs:{model:e.resetPasswordForm,"label-width":"150px"}},[a("el-form-item",{attrs:{label:e.$t("common.Account")}},[a("el-input",{attrs:{disabled:""},model:{value:e.resetPasswordForm.account,callback:function(t){e.$set(e.resetPasswordForm,"account",t)},expression:"resetPasswordForm.account"}})],1),a("el-form-item",{attrs:{label:e.$t("common.NewPassword")}},[a("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.resetPasswordForm.login_pwd,callback:function(t){e.$set(e.resetPasswordForm,"login_pwd",t)},expression:"resetPasswordForm.login_pwd"}})],1),a("el-form-item",{attrs:{label:e.$t("common.ConfirmPassword")}},[a("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.resetPasswordForm.check_pwd,callback:function(t){e.$set(e.resetPasswordForm,"check_pwd",t)},expression:"resetPasswordForm.check_pwd"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.cancelBtn("resetPasswordForm")}}},[e._v(e._s(e.$t("common.Cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.resetPasswordSubmit}},[e._v(e._s(e.$t("common.Confirm")))])],1)],1),a("el-dialog",{attrs:{title:e.$t("common.Permission"),visible:e.PermissionFormVisible,"before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.PermissionFormVisible=t}}},[a("el-form",{ref:"PermissionForm",attrs:{model:e.PermissionForm,"label-width":"150px"}},[a("el-form-item",{attrs:{label:e.$t("common.AgentName")}},[a("el-input",{attrs:{disabled:""},model:{value:e.PermissionForm.account,callback:function(t){e.$set(e.PermissionForm,"account",t)},expression:"PermissionForm.account"}})],1),a("el-form-item",{attrs:{label:e.$t("common.LoginAccount")}},[a("el-input",{model:{value:e.PermissionForm.login_name,callback:function(t){e.$set(e.PermissionForm,"login_name",t)},expression:"PermissionForm.login_name"}})],1),a("el-form-item",{attrs:{label:e.$t("common.RechargePermission"),prop:"loginName"}},[[a("el-radio",{attrs:{label:"0"},model:{value:e.PermissionForm.recharge,callback:function(t){e.$set(e.PermissionForm,"recharge",t)},expression:"PermissionForm.recharge"}},[e._v(e._s(e.$t("common.Unauthorized")))]),a("el-radio",{attrs:{label:"1"},model:{value:e.PermissionForm.recharge,callback:function(t){e.$set(e.PermissionForm,"recharge",t)},expression:"PermissionForm.recharge"}},[e._v(e._s(e.$t("common.Authorized")))])]],2),a("el-form-item",{attrs:{label:e.$t("common.RedeemPermission"),prop:"loginName"}},[[a("el-radio",{attrs:{label:"0"},model:{value:e.PermissionForm.redeem,callback:function(t){e.$set(e.PermissionForm,"redeem",t)},expression:"PermissionForm.redeem"}},[e._v(e._s(e.$t("common.Unauthorized")))]),a("el-radio",{attrs:{label:"1"},model:{value:e.PermissionForm.redeem,callback:function(t){e.$set(e.PermissionForm,"redeem",t)},expression:"PermissionForm.redeem"}},[e._v(e._s(e.$t("common.Authorized")))])]],2)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.cancelBtn("PermissionForm")}}},[e._v(e._s(e.$t("common.Cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.PermissionSubmit}},[e._v(e._s(e.$t("common.Confirm")))])],1)],1),a("el-dialog",{attrs:{title:e.$t("common.tip8"),visible:e.rechargeFormVisible,"before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.rechargeFormVisible=t}}},[a("el-form",{ref:"rechargeForm",attrs:{model:e.rechargeForm,"label-width":"150px"}},[a("el-form-item",{attrs:{label:e.$t("common.Account")}},[a("el-input",{attrs:{disabled:""},model:{value:e.rechargeForm.account,callback:function(t){e.$set(e.rechargeForm,"account",t)},expression:"rechargeForm.account"}})],1),a("el-form-item",{attrs:{label:e.$t("common.CustomerBalance")}},[a("el-input",{attrs:{disabled:""},model:{value:e.rechargeForm.customerBalance,callback:function(t){e.$set(e.rechargeForm,"customerBalance",t)},expression:"rechargeForm.customerBalance"}})],1),a("el-form-item",{attrs:{label:e.$t("common.AvailableBalance")}},[a("el-input",{attrs:{disabled:""},model:{value:e.rechargeForm.availableBalance,callback:function(t){e.$set(e.rechargeForm,"availableBalance",t)},expression:"rechargeForm.availableBalance"}})],1),a("el-form-item",{attrs:{label:e.$t("common.RechargeBalance")}},[a("el-input",{attrs:{type:"number"},model:{value:e.rechargeForm.amount,callback:function(t){e.$set(e.rechargeForm,"amount",t)},expression:"rechargeForm.amount"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.cancelBtn("rechargeForm")}}},[e._v(e._s(e.$t("common.Cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.rechargeFormSubmit}},[e._v(e._s(e.$t("common.Confirm")))])],1)],1),a("el-dialog",{attrs:{visible:e.invoiceFormVisible,"before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.invoiceFormVisible=t}}},[a("p",{staticClass:"invoice_p"},[e._v("Successfully!")]),a("el-form",{ref:"invoiceModel",attrs:{id:"invoiceModel","label-width":"150px"}},[a("el-form-item",{attrs:{label:"Agent Name："}},[e._v(" "+e._s(e.invoice.agent_name)+" ")]),a("el-form-item",{attrs:{label:"ACCOUNT："}},[e._v(" "+e._s(e.invoice.login_name)+" ")]),a("el-form-item",{attrs:{label:"Password："}},[e._v(" "+e._s(e.invoice.login_pwd)+" ")]),a("el-form-item",{attrs:{label:"Balance："}},[e._v(" "+e._s(e.invoice.rechargeamount)+" ")])],1),a("p",{staticClass:"invoice_copy"},[a("el-button",{attrs:{type:"text"},on:{click:e.saveinvoice}},[e._v("Copy")]),e._v(" Info.")],1)],1),a("el-dialog",{attrs:{visible:e.freezeDialogVisible,title:"Captcha validate","before-close":e.cancelOperation},on:{"update:visible":function(t){e.freezeDialogVisible=t}}},[a("el-form",{staticClass:"captcha-form"},[a("el-form-item",[a("div",{staticClass:"captcha-container"},[a("el-image",{staticStyle:{cursor:"pointer"},attrs:{src:e.captchaUrl},on:{click:e.refreshCaptcha}}),a("el-input",{staticClass:"captcha-input",attrs:{placeholder:"Enter Captcha"},model:{value:e.freezeValidateCode,callback:function(t){e.freezeValidateCode=t},expression:"freezeValidateCode"}})],1)])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelOperation}},[e._v(e._s(e.$t("common.Cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitVerificationCode}},[e._v(e._s(e.$t("common.Confirm")))])],1)],1)],1)},r=[],s=(a("ac1f"),a("841c"),a("a9e3"),a("d3b7"),a("25f0"),a("5308")),i=a("ed08"),n={data:function(){return{agent_detail:{agent_id:"",login_name:"",agent_name:"",AgentFreezeVisible:!1},optionList:[{value:1,label:"Search by Agent Name"},{value:3,label:"Search by Login Account"}],filters:{search:"",type:1},user:JSON.parse(s["a"].get("user")),agentList:[],listLoading:!1,sels:[],total:0,currentPage:1,pageSize:20,modeltitle:"Add user information",editType:1,addFormRules:{agent_name:[{required:!0,message:"Please enter your agent name",trigger:"blur"},{validator:i["a"],whitespace:!0,trigger:"blur"}],login_name:[{required:!0,message:"Please enter your login name",trigger:"blur"},{validator:i["a"],whitespace:!0,trigger:"blur"}],login_pwd:[{required:!0,trigger:"blur",message:"Please enter password！"}],check_pwd:[{required:!0,trigger:"blur",message:"Please confirm your password！"}],phone:[{required:!0,message:"Please enter your phone number！",trigger:"blur"}]},addForm:{agent_name:"",login_name:"",login_pwd:"",check_pwd:"",rechargeamount:"",phone:"",recharge:"0",redeem:"0",is_opend:"1"},addFormVisible:!1,editLoading:!1,redeemFormVisible:!1,redeemForm:{},resetPasswordFormVisible:!1,resetPasswordForm:{},PermissionFormVisible:!1,PermissionForm:{},rechargeFormVisible:!1,rechargeForm:{},balance:0,noteitems:[{type:"",label:"MASTER",num:0},{type:"",label:"DISTRIBUTOR",num:0},{type:"",label:"SUBDISTRIBUTOR",num:0},{type:"",label:"STORE",num:0}],gopage:1,next_status:!1,lastClickTime:0,clickThreshold:1e3,invoiceFormVisible:!1,invoice:{},freezeDialogVisible:!1,freezeValidateCode:"",currentScope:"",checkCode:"",initialSwitchState:[],captchaUrl:""}},mounted:function(){this.getList(),this.getbalance()},methods:{getbalance:function(){var e=this,t={};this.$api.balance(t).then((function(t){var a=t.data,o=a.code,r=a.data,s=a.msg;200===o?e.balance=r.t:e.$message.error(s)}))},getList:function(){var e=this,t={page:this.currentPage,limit:this.pageSize,type:this.filters.type,search:this.filters.search};this.$api.agentList(t).then((function(t){var a=t.data,o=a.code,r=a.data,s=a.msg,i=a.count;200===o?(e.total=i,e.noteitems[0].num=r.data_sum.MASTER,e.noteitems[1].num=r.data_sum.DISTRIBUTOR,e.noteitems[2].num=r.data_sum.SUBDISTRIBUTOR,e.noteitems[3].num=r.data_sum.STORE,e.agentList=r.list,e.next_status=r.list.length<e.pageSize):e.$message.error(s)}))},handleSizeChange:function(){this.getList()},handleCurrentChange:function(e){this.currentPage="next"==e?this.currentPage+1:this.currentPage-1,this.gopage=this.currentPage,this.getList()},handleGoPage:function(){this.currentPage=Number(this.gopage),this.getList()},resetForm:function(e){this.$refs[e].resetFields(),this.currentPage=1,this.pageSize=20,this.gopage=1,this.getList()},selsChange:function(e){this.sels=e},createmodel:function(){this.addFormVisible=!0,this.modeltitle="Add user information",this.editType=!0,this.addForm={login_name:"",login_pwd:"",check_pwd:"",rechargeamount:"",phone:"",recharge:"1",redeem:"1",is_opend:"1",is_test:"0"}},createSubmit:function(){var e=this;this.addForm.agent_name!=this.addForm.login_name?this.addForm.login_pwd===this.addForm.check_pwd?this.$refs.addForm.validate((function(t){t&&(1!==e.user.agent_id&&(e.addForm.is_test=""),e.$api.addAgent(e.addForm).then((function(t){var a=t.data,o=a.code,r=a.msg;200===o?(e.invoice=e.addForm,e.$message.success(r),e.addFormVisible=!1,e.invoiceFormVisible=!0,e.addForm={},e.search_btn()):e.$message.error(r)})))})):this.$message({message:"The two passwords are inconsistent！",type:"warning"}):this.$message({message:"The login name and the proxy name cannot be the same！",type:"warning"})},cancelBtn:function(e){this.addFormVisible=!1,this.redeemFormVisible=!1,this.resetPasswordFormVisible=!1,this.PermissionFormVisible=!1,this.rechargeFormVisible=!1,this.invoiceFormVisible=!1,this.$refs[e].resetFields()},handleClose:function(){this.addFormVisible=!1,this.redeemFormVisible=!1,this.resetPasswordFormVisible=!1,this.PermissionFormVisible=!1,this.rechargeFormVisible=!1,this.invoiceFormVisible=!1},changestatus:function(e,t,a){var o=this,r={agent_id:e.agent_id,type:1==a?3:5,is_show:1==a?e.is_opend:e.is_authorised};this.$api.updateinfo(r).then((function(e){var t=e.data,a=t.code,r=t.msg;200===a?(o.$message.success(r),o.getList()):o.$message.error(r)}))},refreshCaptcha:function(){this.checkCode=Math.random().toString(36).substr(2,8),this.captchaUrl="/api/agent/captcha?type=agent_status&t=".concat(this.checkCode)},handleSwitchChange:function(e,t,a){0==e.row.is_opend?(this.initialSwitchState={is_opend:e.row.is_opend,index:t,page_type:a},this.refreshCaptcha(),this.freezeDialogVisible=!0,this.currentScope=e):this.changestatus(e.row,t,a)},submitVerificationCode:function(){var e=this,t={agent_id:this.currentScope.row.agent_id,type:3,is_show:this.currentScope.row.is_opend,captcha:this.freezeValidateCode,checkcode:this.checkCode};this.$api.updateinfo(t).then((function(t){var a=t.data,o=a.code,r=a.msg;200===o?(e.$message.success(r),e.getList(),e.freezeDialogVisible=!1,e.currentScope="",e.freezeValidateCode=""):(e.$message.error(r),e.refreshCaptcha())}))},cancelOperation:function(){var e=this.initialSwitchState,t=e.is_opend,a=e.index;null!==a&&(this.agentList[a].is_opend="0"===t?"1":"0"),this.freezeDialogVisible=!1,this.currentScope="",this.freezeValidateCode=""},onRedeem:function(e){this.redeemFormVisible=!0,this.redeemForm={agent_id:e.agent_id,type:2,account:e.login_name,customerBalance:e.coin_balance,availableBalance:this.balance,amount:""}},redeemFormSubmit:function(){var e=this;if(this.redeemForm.amount<=0)this.$message({message:"The withdrawal amount should be greater than 0！",type:"warning"});else if(this.redeemForm.customerBalance<this.redeemForm.amount)this.$message({message:"The redeem amount is greater than the available amount！",type:"warning"});else{var t=(new Date).getTime();t-this.lastClickTime<this.clickThreshold||(this.lastClickTime=t,this.$api.rechargeRedeem(this.redeemForm).then((function(t){var a=t.data,o=a.code,r=a.msg;200===o?(e.$refs.redeemForm.resetFields(),e.$message.success(r),e.redeemFormVisible=!1,e.resetForm("redeemForm"),e.getbalance()):e.$message.error(r)})))}},onResetPassword:function(e){this.resetPasswordFormVisible=!0,this.resetPasswordForm={agent_id:e.agent_id,type:1,account:e.login_name,login_pwd:"",check_pwd:""}},resetPasswordSubmit:function(){var e=this;this.resetPasswordForm.login_pwd&&this.resetPasswordForm.check_pwd?this.resetPasswordForm.login_pwd===this.resetPasswordForm.check_pwd?this.$api.updateinfo(this.resetPasswordForm).then((function(t){var a=t.data,o=a.code,r=a.msg;200===o?(e.$refs.resetPasswordForm.resetFields(),e.$message.success(r),e.resetPasswordFormVisible=!1,e.resetForm("resetPasswordForm")):e.$message.error(r)})):this.$message({message:"The two passwords are inconsistent！",type:"warning"}):this.$message({message:"Please enter your password！",type:"warning"})},onPermission:function(e){this.PermissionFormVisible=!0,this.PermissionForm={agent_id:e.agent_id,type:2,account:e.agent_name,login_name:e.login_name,redeem:e.redeem_permission,recharge:e.recharge_permission,is_test:e.is_test}},PermissionSubmit:function(){var e=this;""!=this.PermissionForm.login_name?(1!==this.user.agent_id&&(this.PermissionForm.is_test=""),this.$api.updateinfo(this.PermissionForm).then((function(t){var a=t.data,o=a.code,r=a.msg;200===o?(e.$refs.PermissionForm.resetFields(),e.$message.success(r),e.PermissionFormVisible=!1,e.resetForm("PermissionForm")):e.$message.error(r)}))):this.$message({message:"Please enter your login account！",type:"warning"})},onRecharge:function(e){this.rechargeFormVisible=!0,this.rechargeForm={agent_id:e.agent_id,type:1,account:e.login_name,customerBalance:e.coin_balance,availableBalance:this.balance,amount:""}},rechargeFormSubmit:function(){var e=this;if(this.rechargeForm.amount<=0)this.$message({message:"The recharge amount should be greater than 0！",type:"warning"});else if(this.rechargeForm.availableBalance<this.rechargeForm.amount)this.$message({message:"The recharge amount is greater than the available amount！",type:"warning"});else{var t=(new Date).getTime();t-this.lastClickTime<this.clickThreshold||(this.lastClickTime=t,this.$api.rechargeRedeem(this.rechargeForm).then((function(t){var a=t.data,o=a.code,r=a.msg;200===o?(e.$refs.rechargeForm.resetFields(),e.$message.success(r),e.rechargeFormVisible=!1,e.resetForm("rechargeForm"),e.getbalance()):e.$message.error(r)})))}},go_page:function(){this.$router.push({path:"/agentMGT"})},search_btn:function(){this.currentPage=1,this.pageSize=20,this.getList()},onAuthorize:function(e){this.$router.push({name:"menu.Authorize",params:{id:e.agent_id}})},onFreeze:function(e){this.agent_detail.agent_id=e.agent_id,this.agent_detail.login_name=e.login_name,this.agent_detail.agent_name=e.agent_name,this.agent_detail.AgentFreezeVisible=!0,console.log(this.agent_detail)},saveinvoice:function(){var e="Agent Name: "+this.invoice.agent_name+"   Account: "+this.invoice.login_name+"  Password: "+this.invoice.login_pwd+"  Balance: "+this.invoice.rechargeamount;navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then((function(){console.log("Text copied to clipboard")})).catch((function(e){console.error("Error copying text to clipboard:",e)})):window.clipboardData?window.clipboardData.setData("text",e):(function(){document.oncopy=function(t){t.clipboardData.setData("text",e),t.preventDefault(),document.oncopy=null}}(),document.execCommand("Copy"))}}},l=n,c=(a("822a"),a("2877")),m=Object(c["a"])(l,o,r,!1,null,"19ad960d",null);t["default"]=m.exports},a9e3:function(e,t,a){"use strict";var o=a("83ab"),r=a("da84"),s=a("94ca"),i=a("6eeb"),n=a("5135"),l=a("c6b6"),c=a("7156"),m=a("c04e"),d=a("d039"),u=a("7c73"),g=a("241c").f,p=a("06cf").f,h=a("9bf2").f,b=a("58a8").trim,_="Number",f=r[_],v=f.prototype,F=l(u(v))==_,w=function(e){var t,a,o,r,s,i,n,l,c=m(e,!1);if("string"==typeof c&&c.length>2)if(c=b(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+c}for(s=c.slice(2),i=s.length,n=0;n<i;n++)if(l=s.charCodeAt(n),l<48||l>r)return NaN;return parseInt(s,o)}return+c};if(s(_,!f(" 0o1")||!f("0b1")||f("+0x1"))){for(var $,P=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof P&&(F?d((function(){v.valueOf.call(a)})):l(a)!=_)?c(new f(w(t)),a,P):w(t)},k=o?g(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;k.length>C;C++)n(f,$=k[C])&&!n(P,$)&&h(P,$,p(f,$));P.prototype=v,v.constructor=P,i(r,_,P)}}}]);