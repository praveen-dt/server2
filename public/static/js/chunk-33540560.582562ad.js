(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33540560"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"841c":function(e,t,a){"use strict";var n=a("d784"),i=a("825a"),r=a("1d80"),s=a("129f"),l=a("14c3");n("search",(function(e,t,a){return[function(t){var a=r(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,a):new RegExp(t)[e](String(a))},function(e){var n=a(t,this,e);if(n.done)return n.value;var r=i(this),o=String(e),c=r.lastIndex;s(c,0)||(r.lastIndex=0);var u=l(r,o);return s(r.lastIndex,c)||(r.lastIndex=c),null===u?-1:u.index}]}))},a9e3:function(e,t,a){"use strict";var n=a("83ab"),i=a("da84"),r=a("94ca"),s=a("6eeb"),l=a("5135"),o=a("c6b6"),c=a("7156"),u=a("c04e"),d=a("d039"),p=a("7c73"),g=a("241c").f,m=a("06cf").f,f=a("9bf2").f,h=a("58a8").trim,b="Number",_=i[b],v=_.prototype,w=o(p(v))==b,k=function(e){var t,a,n,i,r,s,l,o,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=h(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(r=c.slice(2),s=r.length,l=0;l<s;l++)if(o=r.charCodeAt(l),o<48||o>i)return NaN;return parseInt(r,n)}return+c};if(r(b,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var C,y=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof y&&(w?d((function(){v.valueOf.call(a)})):o(a)!=b)?c(new _(k(t)),a,y):k(t)},D=n?g(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;D.length>x;x++)l(_,C=D[x])&&!l(y,C)&&f(y,C,m(_,C));y.prototype=v,v.constructor=y,s(i,b,y)}},bb5e:function(e,t,a){},c400:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"tag-group"},[a("span",{staticClass:"tag-group__title"},[e._v(e._s(e.$t("table_common.total"))+":")]),e._l(e.noteitems,(function(t){return a("el-tag",{key:t.label,attrs:{type:t.type,effect:"plain"}},[e._v(" "+e._s(t.label)+"ï¼š"+e._s(t.num)+" ")])}))],2),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"filters",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:e.$t("search_common.sel3"),prop:"date"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"To","start-placeholder":e.$t("search_common.startDate"),"end-placeholder":e.$t("search_common.endDate"),"value-format":e.format,"picker-options":e.pickerOptions},model:{value:e.filters.date,callback:function(t){e.$set(e.filters,"date",t)},expression:"filters.date"}})],1),a("el-form-item",[a("el-select",{attrs:{placeholder:e.$t("search_common.tip1")},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.optionList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-input",{staticClass:"ipt1",attrs:{placeholder:e.$t("search_common.tip2"),clearable:""},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},domProps:{textContent:e._s(e.$t("form.searchBtn"))},on:{click:e.search_btn}}),a("el-button",{attrs:{icon:"el-icon-refresh"},domProps:{textContent:e._s(e.$t("table.resetFilter"))},on:{click:function(t){return e.resetForm("filters")}}})],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"highlight-current-row":"","header-cell-style":{background:"#f5f7fa",borderTop:"1px solid #ebeef5"}},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"index",label:e.$t("table_common.No"),align:"center","show-overflow-tooltip":!0,width:"100px"}}),a("el-table-column",{attrs:{prop:"Date_time",label:e.$t("table_common.RedeemDate"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"user_id",label:e.$t("table_common.gameID"),align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary",underline:!1},nativeOn:{click:function(a){return e.detailBtn(t.row.user_id)}}},[e._v(e._s(t.row.user_id))])]}}])}),a("el-table-column",{attrs:{prop:"login_name",label:e.$t("table_common.account"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:e.$t("table_common.beforeRedeem"),align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((t.row.Balance-t.row.Amount).toFixed(2))+" ")]}}])}),a("el-table-column",{attrs:{prop:"Amount",label:e.$t("table_common.Redeemed"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"Balance",label:e.$t("table_common.afterRedeem"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"Oper_ip",label:e.$t("table_common.IPAdd"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"Cashier_login_name",label:e.$t("table_common.cashier"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"agent_login_name",label:e.$t("table_common.manager"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"Note",label:e.$t("table_common.remark"),align:"center","show-overflow-tooltip":!0}})],1),a("div",{staticClass:"el-col el-col-24 toolbar toolbar-pages cust-main-page"},[a("div",{staticClass:"el-pagination is-background"},[a("button",{staticClass:"btn-prev",attrs:{type:"button",disabled:1==e.currentPage},on:{click:function(t){return e.handleCurrentChange("prev")}}},[e._v("prev")]),a("button",{staticClass:"btn-next",attrs:{type:"button",disabled:e.next_status},on:{click:function(t){return e.handleCurrentChange("next")}}},[e._v("next")]),a("span",{staticClass:"el-pagination__sizes"},[a("el-select",{staticClass:"m-2",attrs:{placeholder:"Select",size:"small"},on:{change:e.handleSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}},e._l([20,30,50,100],(function(e){return a("el-option",{key:e,attrs:{label:e+"/page",value:e}})})),1)],1),a("span",{staticClass:"el-pagination__jump"},[e._v("Go to "),a("div",{staticClass:"el-input el-input--mini el-pagination__editor is-in-pagination"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.gopage,expression:"gopage"}],staticClass:"el-input__inner",attrs:{min:"1",type:"number",autocomplete:"off"},domProps:{value:e.gopage},on:{change:e.handleGoPage,input:function(t){t.target.composing||(e.gopage=t.target.value)}}})])])])]),a("UserInfo",{attrs:{user_detail:e.user_detail}})],1)},i=[],r=(a("ac1f"),a("841c"),a("a9e3"),a("159b"),a("d81d"),a("5308")),s=a("ed08"),l=a("d33d"),o={components:{UserInfo:l["a"]},data:function(){return{user_detail:{uid:"",UserDataVisible:!1},filters:{search:"",type:1,date:""},optionList:[{value:1,label:"Search by Account"},{value:2,label:"Search by ID"}],user:JSON.parse(r["a"].get("user")),list:[],listLoading:!1,sels:[],color:"#7f7f7f",addFormVisible:!1,total:0,currentPage:1,pageSize:20,format:"yyyy-MM-dd",pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"Today",onClick:function(e){var t=new Date,a=new Date;e.$emit("pick",[a,t])}},{text:"Yesterday",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"This week",onClick:function(e){var t=new Date,a=new Date,n=a.getDay(),i=a.getDate();0!=n&&a.setDate(i-n),e.$emit("pick",[a,t])}},{text:"Last week",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5);var a=t.getDay(),n=new Date,i=new Date;0==a?(n.setDate(t.getDate()),i.setDate(t.getDate()+6)):(n.setTime(t.getTime()-864e5*a),i.setTime(t.getTime()+864e5*(6-a))),e.$emit("pick",[n,i])}}]},noteitems:[{type:"",label:"Total redeemed",num:0}],gopage:1,next_status:!1}},mounted:function(){var e=Object(s["c"])(new Date);this.filters.date=[e,e],this.getList()},methods:{search_btn:function(){this.currentPage=1,this.pageSize=20,this.gopage=1,this.getList()},getList:function(){var e=this,t={type:this.filters.type,search:this.filters.search,page:this.currentPage,limit:this.pageSize};this.filters.date&&(t["begin_time"]=this.filters.date[0],t["end_time"]=this.filters.date[1]),this.$api.redeemList(t).then((function(t){var a=t.data,n=a.code,i=a.data,r=a.msg,s=a.count;200===n?(e.total=s,e.noteitems[0].num=i.data_sum.total_redeem,e.list=i.list,e.next_status=i.list.length<e.pageSize):e.$message.error(r)}))},handleClick:function(){},handleSizeChange:function(){this.getList()},handleCurrentChange:function(e){this.currentPage="next"==e?this.currentPage+1:this.currentPage-1,this.gopage=this.currentPage,this.getList()},handleGoPage:function(){this.currentPage=Number(this.gopage),this.getList()},resetForm:function(e){this.filters={search:"",type:1,date:[]},this.currentPage=1,this.pageSize=20,this.gopage=1,this.getList()},selsChange:function(e){this.sels=e},getSumaries:function(e){var t=e.columns,a=e.data,n=[];return t.forEach((function(e,t){if(0===t)n[t]="Total";else if(5===t){var i=a.map((function(t){return Number(t[e.property])}));i.every((function(e){return isNaN(e)}))?n[t]="--":n[t]=i.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0)}else n[t]="--"})),n},detailBtn:function(e){this.user_detail.uid=e,this.user_detail.UserDataVisible=!0}}},c=o,u=(a("e2f1"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"fcae8762",null);t["default"]=d.exports},ce6b:function(e,t,a){"use strict";a("e765")},d33d:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.$t("table_common.UserData"),visible:e.user_detail.UserDataVisible,"before-close":e.handleClose,center:"","custom-class":"pub_dialog"},on:{"update:visible":function(t){return e.$set(e.user_detail,"UserDataVisible",t)}}},[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"user_detail",attrs:{inline:!0,model:e.user_detail}},[a("el-form-item",{attrs:{label:e.$t("search_common.sel3"),prop:"date"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"To","start-placeholder":e.$t("search_common.startDate"),"end-placeholder":e.$t("search_common.endDate"),"value-format":e.format,"picker-options":e.pickerOptions},model:{value:e.user_detail.date,callback:function(t){e.$set(e.user_detail,"date",t)},expression:"user_detail.date"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},domProps:{textContent:e._s(e.$t("form.searchBtn"))},on:{click:e.getuserdataList}}),a("el-button",{attrs:{icon:"el-icon-refresh"},domProps:{textContent:e._s(e.$t("table.resetFilter"))},on:{click:function(t){return e.resetForm("user_detail")}}})],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.userlistLoading,expression:"userlistLoading"}],attrs:{data:e.userList,"highlight-current-row":"","header-cell-style":{background:"#f5f7fa",borderTop:"1px solid #ebeef5"}}},[a("el-table-column",{attrs:{prop:"agent_login_name",label:e.$t("table_common.agent"),align:"center"}}),a("el-table-column",{attrs:{prop:"total_played",label:e.$t("table_common.totalPlayed"),align:"center"}}),a("el-table-column",{attrs:{prop:"total_win",label:e.$t("table_common.totalWin"),align:"center"}}),a("el-table-column",{attrs:{prop:"total_recharge",label:e.$t("table_common.totalRecharge"),align:"center"}}),a("el-table-column",{attrs:{prop:"total_redeemed",label:e.$t("table_common.totalRedeemed"),align:"center"}}),a("el-table-column",{attrs:{prop:"cycle_date",label:e.$t("table_common.duration"),align:"center"}})],1),a("div",{staticClass:"el-col el-col-24 toolbar toolbar-pages cust-main-page"},[a("div",{staticClass:"el-pagination is-background"},[a("button",{staticClass:"btn-prev",attrs:{type:"button",disabled:1==e.currentPage},on:{click:function(t){return e.handleCurrentChange("prev")}}},[e._v("prev")]),a("button",{staticClass:"btn-next",attrs:{type:"button",disabled:e.next_status},on:{click:function(t){return e.handleCurrentChange("next")}}},[e._v("next")]),a("span",{staticClass:"el-pagination__sizes"},[a("el-select",{staticClass:"m-2",attrs:{placeholder:"Select",size:"small"},on:{change:e.handleSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}},e._l([20,30,50,100],(function(e){return a("el-option",{key:e,attrs:{label:e+"/page",value:e}})})),1)],1),a("span",{staticClass:"el-pagination__jump"},[e._v("Go to "),a("div",{staticClass:"el-input el-input--mini el-pagination__editor is-in-pagination"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.gopage,expression:"gopage"}],staticClass:"el-input__inner",attrs:{min:"1",type:"number",autocomplete:"off"},domProps:{value:e.gopage},on:{change:e.handleGoPage,input:function(t){t.target.composing||(e.gopage=t.target.value)}}})])])])])],1)},i=[],r=(a("a9e3"),{name:"userinfo",props:{user_detail:{type:Object,default:function(){return{uid:"",UserDataVisible:!1,date:[]}},require:!0}},data:function(){return{pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"Today",onClick:function(e){var t=new Date,a=new Date;e.$emit("pick",[a,t])}},{text:"Yesterday",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"This week",onClick:function(e){var t=new Date,a=new Date,n=a.getDay(),i=a.getDate();0!=n&&a.setDate(i-n),e.$emit("pick",[a,t])}},{text:"Last week",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5);var a=t.getDay(),n=new Date,i=new Date;0==a?(n.setDate(t.getDate()),i.setDate(t.getDate()+6)):(n.setTime(t.getTime()-864e5*a),i.setTime(t.getTime()+864e5*(6-a))),e.$emit("pick",[n,i])}}]},format:"yyyy-MM-dd",userList:[],userlistLoading:!1,userTotal:0,userCurrentPage:1,userPageSize:20,UserDataVisible:!1,uid:"",total:0,currentPage:1,pageSize:20,gopage:1,next_status:!1}},watch:{"user_detail.uid":{handler:function(){this.getuserdataList()}}},mounted:function(){this.getuserdataList()},methods:{handleSizeChange:function(){this.getuserdataList()},handleCurrentChange:function(e){this.currentPage="next"==e?this.currentPage+1:this.currentPage-1,this.gopage=this.currentPage,this.getuserdataList()},handleGoPage:function(){this.currentPage=Number(this.gopage),this.getuserdataList()},getuserdataList:function(){var e=this;if(this.user_detail.uid&&this.user_detail.UserDataVisible){var t={user_id:this.user_detail.uid,page:this.currentPage,limit:this.pageSize};this.user_detail.date&&(t["begin_date"]=this.user_detail.date[0],t["end_date"]=this.user_detail.date[1]),this.$api.userStatList(t).then((function(t){var a=t.data,n=a.code,i=a.data,r=a.msg,s=a.count;200===n?(e.userTotal=s,e.userList=i.data,e.next_status=i.data.length<e.pageSize):e.$message.error(r)}))}},handleClose:function(){this.user_detail.UserDataVisible=!1}}}),s=r,l=(a("ce6b"),a("2877")),o=Object(l["a"])(s,n,i,!1,null,null,null);t["a"]=o.exports},d81d:function(e,t,a){"use strict";var n=a("23e7"),i=a("b727").map,r=a("1dde"),s=r("map");n({target:"Array",proto:!0,forced:!s},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},e2f1:function(e,t,a){"use strict";a("bb5e")},e765:function(e,t,a){}}]);