(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7186e0a7"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"3b88":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"tag-group"},[a("span",{staticClass:"tag-group__title"},[e._v(e._s(e.$t("table_common.total"))+":")]),e._l(e.noteitems,(function(t){return a("el-tag",{key:t.label,attrs:{type:t.type,effect:"plain"}},[e._v(" "+e._s(t.label)+"ï¼š"+e._s(t.num)+" ")])}))],2),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"filters",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:e.$t("search_common.sel3"),prop:"date"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"To","start-placeholder":e.$t("search_common.startDate"),"end-placeholder":e.$t("search_common.endDate"),"value-format":e.format,"picker-options":e.pickerOptions},model:{value:e.filters.date,callback:function(t){e.$set(e.filters,"date",t)},expression:"filters.date"}})],1),a("el-form-item",[a("el-select",{attrs:{placeholder:e.$t("search_common.tip1")},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.optionList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-input",{staticClass:"ipt1",attrs:{placeholder:e.$t("search_common.tip2"),clearable:""},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.user.role_level,expression:"user.role_level == 1"}]},[a("el-select",{attrs:{placeholder:e.$t("search_common.sel4")},model:{value:e.filters.game_id,callback:function(t){e.$set(e.filters,"game_id",t)},expression:"filters.game_id"}},e._l(e.game_list,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},domProps:{textContent:e._s(e.$t("form.searchBtn"))},on:{click:e.search_btn}}),a("el-button",{attrs:{icon:"el-icon-refresh"},domProps:{textContent:e._s(e.$t("table.resetFilter"))},on:{click:function(t){return e.resetForm("filters")}}})],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"highlight-current-row":"","header-cell-style":{background:"#f5f7fa",borderTop:"1px solid #ebeef5"}},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"user_id",label:e.$t("table_common.gameID"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"login_name",label:e.$t("table_common.account"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"game_name",label:e.$t("table_common.GameTitle"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"profit",label:e.$t("table_common.BalanceBeforeGame"),align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((t.row.balance-t.row.total_win+t.row.total_played).toFixed(2))+" ")]}}])}),a("el-table-column",{attrs:{prop:"total_played",label:e.$t("table_common.totalPlayed"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"total_win",label:e.$t("table_common.totalWin"),align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.total_win>0?a("div",[a("span",{staticStyle:{color:"#4caf50"}},[e._v(e._s(t.row.total_win))])]):t.row.total_win<0?a("div",[a("span",{staticStyle:{color:"#f44336"}},[e._v(e._s(t.row.total_win))])]):a("div",[e._v(" "+e._s(t.row.total_win)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"balance",label:e.$t("table_common.BalanceNow"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"game_time",label:e.$t("table_common.RecordingTime"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"agent_login_name",label:e.$t("table_common.manager"),align:"center","show-overflow-tooltip":!0}})],1),a("div",{staticClass:"el-col el-col-24 toolbar toolbar-pages cust-main-page"},[a("div",{staticClass:"el-pagination is-background"},[a("button",{staticClass:"btn-prev",attrs:{type:"button",disabled:1==e.currentPage},on:{click:function(t){return e.handleCurrentChange("prev")}}},[e._v("prev")]),a("button",{staticClass:"btn-next",attrs:{type:"button",disabled:e.next_status},on:{click:function(t){return e.handleCurrentChange("next")}}},[e._v("next")]),a("span",{staticClass:"el-pagination__sizes"},[a("el-select",{staticClass:"m-2",attrs:{placeholder:"Select",size:"small"},on:{change:e.handleSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}},e._l([20,30,50,100],(function(e){return a("el-option",{key:e,attrs:{label:e+"/page",value:e}})})),1)],1),a("span",{staticClass:"el-pagination__jump"},[e._v("Go to "),a("div",{staticClass:"el-input el-input--mini el-pagination__editor is-in-pagination"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.gopage,expression:"gopage"}],staticClass:"el-input__inner",attrs:{min:"1",type:"number",autocomplete:"off"},domProps:{value:e.gopage},on:{change:e.handleGoPage,input:function(t){t.target.composing||(e.gopage=t.target.value)}}})])])])])],1)},n=[],s=(a("ac1f"),a("841c"),a("fb6a"),a("a9e3"),a("5308")),l=a("ed08"),o={data:function(){var e=this;return{filters:{search:"",type:1,game_id:0,date:[]},optionList:[{value:1,label:"Search by Account"},{value:2,label:"Search by ID"}],user:JSON.parse(s["a"].get("user")),list:[],listLoading:!1,sels:[],color:"#7f7f7f",addFormVisible:!1,total:0,currentPage:1,pageSize:20,last_record_id:"",format:"yyyy-MM-dd",timeOptionRange:"",pickerOptions:{onPick:function(t){t.minDate&&!t.maxDate&&(e.timeOptionRange=t.minDate),t.maxDate&&(e.timeOptionRange=null)},disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"Today",onClick:function(e){var t=new Date,a=new Date;e.$emit("pick",[a,t])}},{text:"Yesterday",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"This week",onClick:function(e){var t=new Date,a=new Date,i=a.getDay(),n=a.getDate();0!=i&&a.setDate(n-i),e.$emit("pick",[a,t])}},{text:"Last week",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5);var a=t.getDay(),i=new Date,n=new Date;0==a?(i.setDate(t.getDate()),n.setDate(t.getDate()+6)):(i.setTime(t.getTime()-864e5*a),n.setTime(t.getTime()+864e5*(6-a))),e.$emit("pick",[i,n])}}]},noteitems:[{type:"",label:"Total played",num:0},{type:"",label:"Total win",num:0},{type:"",label:"Total played - Total win",num:0}],game_list:[],gopage:1,next_status:!1}},mounted:function(){var e=Object(l["c"])(new Date);this.filters.date=[e,e],this.getList(),this.gameList()},watch:{"filters.game_id":{handler:function(){this.getList()}}},methods:{search_btn:function(){this.currentPage=1,this.pageSize=20,this.gopage=1,this.last_record_id="",this.getList()},gameList:function(){var e=this;this.$api.gameList().then((function(t){var a=t.data,i=a.code,n=a.data,s=a.msg;200===i?e.game_list=n:e.$message.error(s)}))},getList:function(){var e=this,t={type:this.filters.type,game_id:this.filters.game_id,search:this.filters.search,page:this.currentPage,limit:this.pageSize,last_record_id:this.last_record_id};if(this.filters.date)t["begin_time"]=this.filters.date[0],t["end_time"]=this.filters.date[1];else{var a=Object(l["c"])(new Date);this.filters.date=[a,a]}this.last_record_id&&(t.page=1),this.next_status=!0,this.$api.gameRecordList(t).then((function(t){var a=t.data,i=a.code,n=a.data,s=a.msg,l=a.count;200===i?(e.total=l,e.noteitems[0].num=n.data_sum.sum_played,e.noteitems[1].num=n.data_sum.sum_win,e.noteitems[2].num=n.data_sum.difference,e.list=n.list,e.next_status=n.list.length<e.pageSize):e.$message.error(s)}))},handleClick:function(){},handleSizeChange:function(){this.getList()},handleCurrentChange:function(e){if("next"==e){this.currentPage=this.currentPage+1;var t=this.list.slice(-1);this.last_record_id=t[0]["last_record_id"]}else this.currentPage=this.currentPage-1,this.last_record_id="";this.gopage=this.currentPage,this.getList()},handleGoPage:function(){this.currentPage=Number(this.gopage),this.last_record_id="",this.getList()},resetForm:function(e){this.filters={search:"",type:1,game_id:0,date:[]};var t=Object(l["c"])(new Date);this.filters.date=[t,t],this.currentPage=1,this.pageSize=20,this.gopage=1,this.last_record_id="",this.getList()},selsChange:function(e){this.sels=e},handleDateChange:function(e){if(e&&2===e.length){var t=new Date(e[0]),a=new Date(e[1]);if(!this.isSameWeek(t,a)){this.$message.error("The end date must be within the same week as the start date");var i=Object(l["c"])(new Date);this.filters.date=[i,i]}}},getStartOfWeek:function(e){var t=e.getDay(),a=e.getDate()-(0===t?0:t)+1;return new Date(e.setDate(a))},isSameWeek:function(e,t){var a=this.getStartOfWeek(e),i=this.getStartOfWeek(t);return a.getTime()===i.getTime()}}},r=o,c=(a("fbf9"),a("2877")),u=Object(c["a"])(r,i,n,!1,null,"02fe09ac",null);t["default"]=u.exports},"841c":function(e,t,a){"use strict";var i=a("d784"),n=a("825a"),s=a("1d80"),l=a("129f"),o=a("14c3");i("search",(function(e,t,a){return[function(t){var a=s(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,a):new RegExp(t)[e](String(a))},function(e){var i=a(t,this,e);if(i.done)return i.value;var s=n(this),r=String(e),c=s.lastIndex;l(c,0)||(s.lastIndex=0);var u=o(s,r);return l(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},"857a":function(e,t,a){},a9e3:function(e,t,a){"use strict";var i=a("83ab"),n=a("da84"),s=a("94ca"),l=a("6eeb"),o=a("5135"),r=a("c6b6"),c=a("7156"),u=a("c04e"),m=a("d039"),p=a("7c73"),g=a("241c").f,d=a("06cf").f,f=a("9bf2").f,h=a("58a8").trim,_="Number",b=n[_],v=b.prototype,w=r(p(v))==_,y=function(e){var t,a,i,n,s,l,o,r,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=h(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+c}for(s=c.slice(2),l=s.length,o=0;o<l;o++)if(r=s.charCodeAt(o),r<48||r>n)return NaN;return parseInt(s,i)}return+c};if(s(_,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var k,D=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof D&&(w?m((function(){v.valueOf.call(a)})):r(a)!=_)?c(new b(y(t)),a,D):y(t)},x=i?g(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;x.length>C;C++)o(b,k=x[C])&&!o(D,k)&&f(D,k,d(b,k));D.prototype=v,v.constructor=D,l(n,_,D)}},fbf9:function(e,t,a){"use strict";a("857a")}}]);