(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb33da04"],{1017:function(e,t,a){},"8ec3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"content"},[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"filters",attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:e.$t("search_common.sel3"),prop:"date"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"To","start-placeholder":e.$t("search_common.startDate"),"end-placeholder":e.$t("search_common.endDate"),"value-format":e.format,"picker-options":e.pickerOptions},model:{value:e.filters.date,callback:function(t){e.$set(e.filters,"date",t)},expression:"filters.date"}})],1),a("el-form-item",[a("el-select",{staticClass:"sel_w",attrs:{placeholder:e.$t("search_common.sel6")},model:{value:e.filters.user_type,callback:function(t){e.$set(e.filters,"user_type",t)},expression:"filters.user_type"}},e._l(e.userSearchList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-input",{staticClass:"ipt1",attrs:{placeholder:e.$t("search_common.tip2"),clearable:""},model:{value:e.filters.user_search,callback:function(t){e.$set(e.filters,"user_search",t)},expression:"filters.user_search"}})],1),a("el-form-item",[a("el-select",{staticClass:"sel_w",attrs:{placeholder:e.$t("search_common.sel7")},model:{value:e.filters.agent_type,callback:function(t){e.$set(e.filters,"agent_type",t)},expression:"filters.agent_type"}},e._l(e.agentSearchList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-input",{staticClass:"ipt1",attrs:{placeholder:e.$t("search_common.tip2"),clearable:""},model:{value:e.filters.agent_search,callback:function(t){e.$set(e.filters,"agent_search",t)},expression:"filters.agent_search"}})],1),a("el-form-item",[a("el-select",{staticClass:"sel_w",attrs:{placeholder:e.$t("search_common.sel8")},model:{value:e.filters.reward_type,callback:function(t){e.$set(e.filters,"reward_type",t)},expression:"filters.reward_type"}},e._l(e.rewardTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},domProps:{textContent:e._s(e.$t("form.searchBtn"))},on:{click:e.search_btn}}),a("el-button",{attrs:{icon:"el-icon-refresh"},domProps:{textContent:e._s(e.$t("table.resetFilter"))},on:{click:function(t){return e.resetForm("filters")}}})],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"highlight-current-row":"","header-cell-style":{background:"#f5f7fa",borderTop:"1px solid #ebeef5"}},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"record_id",label:e.$t("table_common.No"),align:"center","show-overflow-tooltip":!0,width:"100px"}}),a("el-table-column",{attrs:{label:e.$t("table_common.gameID"),"show-overflow-tooltip":!0,width:"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary",underline:!1},nativeOn:{click:function(a){return e.detailBtn(t.row.user_id)}}},[e._v(e._s(t.row.user_id))])]}}])}),a("el-table-column",{attrs:{prop:"login_name",label:e.$t("table_common.account"),align:"center"}}),a("el-table-column",{attrs:{prop:"",label:e.$t("common.AgentName"),align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.agent_name)+"("+e._s(t.row.agent_id)+") ")]}}])}),a("el-table-column",{attrs:{prop:"reward_name",label:e.$t("table_common.RewardName"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"amount",label:e.$t("table_common.ChangeAmount"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"balance",label:e.$t("table_common.UserBalance"),align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"record_time",label:e.$t("table_common.RecordingTime"),align:"center","show-overflow-tooltip":!0}})],1),a("div",{staticClass:"el-col el-col-24 toolbar toolbar-pages cust-main-page"},[a("div",{staticClass:"el-pagination is-background"},[a("button",{staticClass:"btn-prev",attrs:{type:"button",disabled:1==e.currentPage},on:{click:function(t){return e.handleCurrentChange("prev")}}},[e._v("prev")]),a("button",{staticClass:"btn-next",attrs:{type:"button",disabled:e.next_status},on:{click:function(t){return e.handleCurrentChange("next")}}},[e._v("next")]),a("span",{staticClass:"el-pagination__sizes"},[a("el-select",{staticClass:"m-2",attrs:{placeholder:"Select",size:"small"},on:{change:e.handleSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}},e._l([20,30,50,100],(function(e){return a("el-option",{key:e,attrs:{label:e+"/page",value:e}})})),1)],1),a("span",{staticClass:"el-pagination__jump"},[e._v("Go to "),a("div",{staticClass:"el-input el-input--mini el-pagination__editor is-in-pagination"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.gopage,expression:"gopage"}],staticClass:"el-input__inner",attrs:{min:"1",type:"number",autocomplete:"off"},domProps:{value:e.gopage},on:{change:e.handleGoPage,input:function(t){t.target.composing||(e.gopage=t.target.value)}}})])])])]),a("UserInfo",{attrs:{user_detail:e.user_detail}})],1)},s=[],n=(a("a9e3"),a("5308")),r=a("ed08"),l=a("d33d"),o={components:{UserInfo:l["a"]},data:function(){return{user_detail:{uid:"",UserDataVisible:!1},filters:{user_type:1,user_search:"",agent_type:1,agent_search:"",reward_type:"",date:""},userSearchList:[{value:1,label:"Search User ID"},{value:2,label:"Search User Name"}],agentSearchList:[{value:1,label:"Search Agent ID"},{value:2,label:"Search Agent Name"},{value:3,label:"Search Agent Login Name"}],rewardTypeList:[{value:"",label:"All change"}],user:JSON.parse(n["a"].get("user")),list:[],listLoading:!1,sels:[],color:"#7f7f7f",addFormVisible:!1,total:0,currentPage:1,pageSize:20,format:"yyyy-MM-dd",pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"Today",onClick:function(e){var t=new Date,a=new Date;e.$emit("pick",[a,t])}},{text:"Yesterday",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"This week",onClick:function(e){var t=new Date,a=new Date,i=a.getDay(),s=a.getDate();0!=i&&a.setDate(s-i),e.$emit("pick",[a,t])}},{text:"Last week",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5);var a=t.getDay(),i=new Date,s=new Date;0==a?(i.setDate(t.getDate()),s.setDate(t.getDate()+6)):(i.setTime(t.getTime()-864e5*a),s.setTime(t.getTime()+864e5*(6-a))),e.$emit("pick",[i,s])}}]},gopage:1,next_status:!1,page_style:0,min_id:0,max_id:0}},mounted:function(){var e=Object(r["c"])(new Date);this.filters.date=[e,e],this.getList()},methods:{search_btn:function(){this.currentPage=1,this.pageSize=20,this.gopage=1,this.min_id=0,this.max_id=0,this.getList()},getList:function(){var e=this,t={user_type:this.filters.user_type,user_search:this.filters.user_search,agent_type:this.filters.agent_type,agent_search:this.filters.agent_search,reward_type:this.filters.reward_type,page:this.currentPage,limit:this.pageSize,page_style:this.page_style,min_id:this.min_id,max_id:this.max_id};if(this.filters.date)t["begin_time"]=this.filters.date[0],t["end_time"]=this.filters.date[1];else{var a=Object(r["c"])(new Date);this.filters.date=[a,a]}this.$api.RewardRecord(t).then((function(t){var a=t.data,i=a.code,s=a.data,n=a.msg,r=a.count;200===i?(e.total=r,e.list=s.data,e.min_id=s.min_id,e.max_id=s.max_id,e.next_status=s.length<e.pageSize,e.rewardTypeList=s.reward_type):e.$message.error(n)}))},handleClick:function(){},handleSizeChange:function(){this.getList()},handleCurrentChange:function(e){"next"==e?(this.currentPage=this.currentPage+1,this.page_style=2):(this.currentPage=this.currentPage-1,this.page_style=1),this.gopage=this.currentPage,this.getList()},handleGoPage:function(){this.currentPage=Number(this.gopage),this.page_style=0,this.getList()},resetForm:function(e){this.filters={user_type:1,user_search:"",agent_type:1,agent_search:"",reward_type:"",date:[]},this.currentPage=1,this.pageSize=20,this.gopage=1,this.min_id=0,this.max_id=0,this.getList()},selsChange:function(e){this.sels=e},detailBtn:function(e){this.user_detail.uid=e,this.user_detail.UserDataVisible=!0}}},c=o,u=(a("9024"),a("2877")),d=Object(u["a"])(c,i,s,!1,null,"f51fc852",null);t["default"]=d.exports},9024:function(e,t,a){"use strict";a("1017")},a9e3:function(e,t,a){"use strict";var i=a("83ab"),s=a("da84"),n=a("94ca"),r=a("6eeb"),l=a("5135"),o=a("c6b6"),c=a("7156"),u=a("c04e"),d=a("d039"),p=a("7c73"),g=a("241c").f,m=a("06cf").f,h=a("9bf2").f,_=a("58a8").trim,f="Number",b=s[f],v=b.prototype,w=o(p(v))==f,y=function(e){var t,a,i,s,n,r,l,o,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=_(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+c}for(n=c.slice(2),r=n.length,l=0;l<r;l++)if(o=n.charCodeAt(l),o<48||o>s)return NaN;return parseInt(n,i)}return+c};if(n(f,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var k,C=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof C&&(w?d((function(){v.valueOf.call(a)})):o(a)!=f)?c(new b(y(t)),a,C):y(t)},D=i?g(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;D.length>x;x++)l(b,k=D[x])&&!l(C,k)&&h(C,k,m(b,k));C.prototype=v,v.constructor=C,r(s,f,C)}},ce6b:function(e,t,a){"use strict";a("e765")},d33d:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.$t("table_common.UserData"),visible:e.user_detail.UserDataVisible,"before-close":e.handleClose,center:"","custom-class":"pub_dialog"},on:{"update:visible":function(t){return e.$set(e.user_detail,"UserDataVisible",t)}}},[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"user_detail",attrs:{inline:!0,model:e.user_detail}},[a("el-form-item",{attrs:{label:e.$t("search_common.sel3"),prop:"date"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"To","start-placeholder":e.$t("search_common.startDate"),"end-placeholder":e.$t("search_common.endDate"),"value-format":e.format,"picker-options":e.pickerOptions},model:{value:e.user_detail.date,callback:function(t){e.$set(e.user_detail,"date",t)},expression:"user_detail.date"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},domProps:{textContent:e._s(e.$t("form.searchBtn"))},on:{click:e.getuserdataList}}),a("el-button",{attrs:{icon:"el-icon-refresh"},domProps:{textContent:e._s(e.$t("table.resetFilter"))},on:{click:function(t){return e.resetForm("user_detail")}}})],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.userlistLoading,expression:"userlistLoading"}],attrs:{data:e.userList,"highlight-current-row":"","header-cell-style":{background:"#f5f7fa",borderTop:"1px solid #ebeef5"}}},[a("el-table-column",{attrs:{prop:"agent_login_name",label:e.$t("table_common.agent"),align:"center"}}),a("el-table-column",{attrs:{prop:"total_played",label:e.$t("table_common.totalPlayed"),align:"center"}}),a("el-table-column",{attrs:{prop:"total_win",label:e.$t("table_common.totalWin"),align:"center"}}),a("el-table-column",{attrs:{prop:"total_recharge",label:e.$t("table_common.totalRecharge"),align:"center"}}),a("el-table-column",{attrs:{prop:"total_redeemed",label:e.$t("table_common.totalRedeemed"),align:"center"}}),a("el-table-column",{attrs:{prop:"cycle_date",label:e.$t("table_common.duration"),align:"center"}})],1),a("div",{staticClass:"el-col el-col-24 toolbar toolbar-pages cust-main-page"},[a("div",{staticClass:"el-pagination is-background"},[a("button",{staticClass:"btn-prev",attrs:{type:"button",disabled:1==e.currentPage},on:{click:function(t){return e.handleCurrentChange("prev")}}},[e._v("prev")]),a("button",{staticClass:"btn-next",attrs:{type:"button",disabled:e.next_status},on:{click:function(t){return e.handleCurrentChange("next")}}},[e._v("next")]),a("span",{staticClass:"el-pagination__sizes"},[a("el-select",{staticClass:"m-2",attrs:{placeholder:"Select",size:"small"},on:{change:e.handleSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}},e._l([20,30,50,100],(function(e){return a("el-option",{key:e,attrs:{label:e+"/page",value:e}})})),1)],1),a("span",{staticClass:"el-pagination__jump"},[e._v("Go to "),a("div",{staticClass:"el-input el-input--mini el-pagination__editor is-in-pagination"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.gopage,expression:"gopage"}],staticClass:"el-input__inner",attrs:{min:"1",type:"number",autocomplete:"off"},domProps:{value:e.gopage},on:{change:e.handleGoPage,input:function(t){t.target.composing||(e.gopage=t.target.value)}}})])])])])],1)},s=[],n=(a("a9e3"),{name:"userinfo",props:{user_detail:{type:Object,default:function(){return{uid:"",UserDataVisible:!1,date:[]}},require:!0}},data:function(){return{pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"Today",onClick:function(e){var t=new Date,a=new Date;e.$emit("pick",[a,t])}},{text:"Yesterday",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"This week",onClick:function(e){var t=new Date,a=new Date,i=a.getDay(),s=a.getDate();0!=i&&a.setDate(s-i),e.$emit("pick",[a,t])}},{text:"Last week",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5);var a=t.getDay(),i=new Date,s=new Date;0==a?(i.setDate(t.getDate()),s.setDate(t.getDate()+6)):(i.setTime(t.getTime()-864e5*a),s.setTime(t.getTime()+864e5*(6-a))),e.$emit("pick",[i,s])}}]},format:"yyyy-MM-dd",userList:[],userlistLoading:!1,userTotal:0,userCurrentPage:1,userPageSize:20,UserDataVisible:!1,uid:"",total:0,currentPage:1,pageSize:20,gopage:1,next_status:!1}},watch:{"user_detail.uid":{handler:function(){this.getuserdataList()}}},mounted:function(){this.getuserdataList()},methods:{handleSizeChange:function(){this.getuserdataList()},handleCurrentChange:function(e){this.currentPage="next"==e?this.currentPage+1:this.currentPage-1,this.gopage=this.currentPage,this.getuserdataList()},handleGoPage:function(){this.currentPage=Number(this.gopage),this.getuserdataList()},getuserdataList:function(){var e=this;if(this.user_detail.uid&&this.user_detail.UserDataVisible){var t={user_id:this.user_detail.uid,page:this.currentPage,limit:this.pageSize};this.user_detail.date&&(t["begin_date"]=this.user_detail.date[0],t["end_date"]=this.user_detail.date[1]),this.$api.userStatList(t).then((function(t){var a=t.data,i=a.code,s=a.data,n=a.msg,r=a.count;200===i?(e.userTotal=r,e.userList=s.data,e.next_status=s.data.length<e.pageSize):e.$message.error(n)}))}},handleClose:function(){this.user_detail.UserDataVisible=!1}}}),r=n,l=(a("ce6b"),a("2877")),o=Object(l["a"])(r,i,s,!1,null,null,null);t["a"]=o.exports},e765:function(e,t,a){}}]);