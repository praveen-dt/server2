(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b051aa4"],{"69b7":function(e,t,o){e.exports=o.p+"static/img/login_logo.3033b80b.png"},a55b:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-box"},[o("div",{staticClass:"container"},[o("div",{staticClass:"title-box"},[o("div",{staticClass:"title-box-sub"},[o("img",{staticStyle:{width:"100%"},attrs:{src:e.loginLogo,alt:"logo"}})])]),o("div",{staticClass:"form-box"},[o("el-form",{ref:"userForm",staticClass:"demo-ruleForm login-container",attrs:{model:e.userForm,rules:e.loginRules,"label-position":"left","label-width":"0px"}},[o("h3",{staticClass:"title"},[e._v(e._s(e.$t("common.login")))]),o("el-form-item",{attrs:{prop:"userName"}},[o("el-input",{attrs:{type:"text","prefix-icon":"iconfont iconicon","auto-complete":"off",placeholder:e.$t("common.tip1")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginBtn.apply(null,arguments)}},model:{value:e.userForm.userName,callback:function(t){e.$set(e.userForm,"userName",t)},expression:"userForm.userName"}})],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{type:e.passwords,"prefix-icon":"iconfont iconmima","auto-complete":"off",placeholder:e.$t("common.tip2")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginBtn.apply(null,arguments)}},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}}),o("i",{staticClass:"icon-pwd iconfont iconpassword-show",class:{iconxianshi:e.pwdShow},on:{click:e.switchBtn}})],1),o("el-form-item",{attrs:{prop:"code"}},[o("el-input",{staticClass:"loginCode",attrs:{type:"text","prefix-icon":"iconfont iconshezhi","auto-complete":"off",placeholder:e.$t("common.tip3")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginBtn.apply(null,arguments)}},model:{value:e.userForm.code,callback:function(t){e.$set(e.userForm,"code",t)},expression:"userForm.code"}}),o("img",{staticClass:"imgCode",attrs:{src:e.image,alt:""},on:{click:e.refresh}})],1),o("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v(e._s(e.$t("common.remember")))]),o("el-form-item",{staticClass:"login-btn"},[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},on:{click:e.loginBtn}},[e._v(e._s(e.$t("common.login")))])],1)],1)],1)])])},n=[],i=o("5308"),r=o("ed08"),a={data:function(){return{logining:!1,userForm:{userName:"",password:"",code:"",checkcode:""},loginRules:{userName:[{required:!0,message:"Please enter your account",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],code:[{required:!0,message:"Please enter the verification code",trigger:"blur"}]},passwords:"password",pwdShow:!0,checked:!0,logoUrl:o("cf05"),loginLogo:o("69b7"),image:""}},created:function(){this.getCode()},methods:{loginBtn:function(){var e=this;this.$refs.userForm.validate((function(t){if(t){var o={agent_name:e.userForm.userName,agent_pwd:e.userForm.password,agent_code:e.userForm.code,t:e.userForm.checkCode};e.logining=!0,e.$api.agentLogin(o).then((function(t){var o=t.data,s=o.code,n=o.data,a=o.msg;if(200===s){i["a"].set("user",JSON.stringify(n)),i["a"].set("token",n.token);var c="__cookie"+n.agent_id;Object(r["d"])(c)||e.$api.reportCookie({}).then((function(e){var t=e.data,o=t.code,s=t.data;t.msg;200===o&&Object(r["e"])(c,s.code,new Date("9999-12-31"))})),e.$router.push({path:"/HomeDetail"})}else e.getCode(),e.logining=!1,e.$msgbox.alert(a)}))}}))},getCode:function(){do{this.userForm.checkCode=Math.floor(1e4*Math.random())}while(this.userForm.checkCode<1e3);this.image="/api/agent/captcha?t=".concat(this.userForm.checkCode)},refresh:function(){this.getCode()},switchBtn:function(){this.pwdShow=!this.pwdShow,this.passwords="password"===this.passwords?"text":"password"}}},c=a,l=(o("eb05"),o("b95e"),o("2877")),u=Object(l["a"])(c,s,n,!1,null,"0acb7d34",null);t["default"]=u.exports},b95e:function(e,t,o){"use strict";o("d149")},cf05:function(e,t,o){e.exports=o.p+"static/img/logo.544f32fd.png"},d149:function(e,t,o){},eb05:function(e,t,o){"use strict";o("f952")},f952:function(e,t,o){}}]);